---
title: "Client-Side Redirect"
slug: "client-side-redirect"
lang: en
filename: "ClientSideRedirectExtensions.cs"
raw: "/snippets/ClientSideRedirectExtensions.cs"
---


I've found this helpful when trying to force cookie attachment in a user flow given "strict" cookie safesite settings.

<CodeBlock lang="csharp" filename="ClientSideRedirectExtensions.cs" rawUrl="/snippets/ClientSideRedirectExtensions.cs" code={`
public static class ClientSideRedirectExtensions
{
    public static async Task ResponseWithClientSideRedirectAsync(this HttpContext context, string location)
    {
        // context.PreventCaching(); // Recommend preventing caching for this. 
        context.Response.ContentType = "text/html";
        context.Response.StatusCode = 200;                

        await context.Response.WriteAsync($"<html><head><meta http-equiv=\"refresh\" content=\"0; URL='{location}'\"/></head></html>", System.Text.Encoding.UTF8, context.RequestAborted);
    }
}
`} />